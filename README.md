# 小朋友體重管理小幫手 (Web版)

這是一個使用 Python 和網頁技術打造的桌面應用程式，旨在透過遊戲化的方式，幫助小朋友 楽しく管理體重和培養健康習慣。

---

## 專案架構 (Current Architecture)

本專案採用 **Eel** 函式庫作為橋樑，結合了 Python 的強大邏輯處理能力和網頁技術的豐富視覺表現力。

- **後端 (Backend - `main.py`)**
  - 使用 **Python** 和 **Eel** 函式庫。
  - 負責所有核心業務邏輯，包括：資料讀寫、BMI計算、點數增減等。
  - 透過 `@eel.expose` 裝飾器，將特定的 Python 函式開放給前端 JavaScript 呼叫。
  - 所有設定（如飲食選項、獎勵內容）皆由 `config.json` 管理。
  - 使用者資料儲存在 SQLite 資料庫 (`kids_diet.db`) 中。

- **前端 (Frontend - `/web` 資料夾)**
  - 一個單頁應用程式 (Single-Page Application, SPA)。
  - `index.html`: 應用程式的唯一入口點。
  - `style.css`: 包含了所有介面的樣式，使用現代化的 CSS 設計，並透過 CSS 變數管理顏色主題。
  - `script.js`: 處理所有前端的動態行為，包括：
    - 渲染 UI 畫面。
    - 監聽使用者的操作（如按鈕點擊）。
    - 呼叫 Python 後端函式並接收回傳的資料。
    - 根據回傳的最新資料，動態更新畫面。
  - 使用 **Chart.js** 函式庫來繪製體重歷史曲線圖。

---

## 目前進度與功能 (Current Progress & Features)

- [x] **使用者初始設定**：可設定姓名、生日、性別、身高、初始體重與目標體重。
- [x] **BMI 計算與狀態顯示**：
  - 內建台灣衛福部國健署的兒童與青少年 BMI 百分位建議值。
  - 自動計算 BMI 並顯示「體重過輕」、「體位適中」、「體重過重」、「肥胖」等狀態，並以不同顏色提示。
- [x] **主儀表板**：清晰展示目前體重、BMI狀態、累積點數等核心資訊。
- [x] **每日紀錄**：
  - 可多選記錄當日的飲食與運動項目。
  - 主畫面會以「✓」符號提示當日是否已記錄。
- [x] **點數系統**：
  - 記錄飲食可獲得點數 (1點/項)。
  - 記錄運動可獲得點數 (2點/項)。
  - 點數規則可透過主畫面的「(?)」按鈕查詢。
- [x] **獎勵商店**：可使用累積的點數兌換在 `config.json` 中自訂的獎勵。
- [x] **歷史紀錄**：可查詢過去每一天的詳細飲食和運動日誌，並已整合至日曆功能，點擊日曆日期即可查看。
- [x] **日曆與歷史紀錄整合**：在日曆上點擊日期即可查看該日的詳細飲食與運動日誌。
- [x] **進度圖表**：以視覺化的曲線圖表呈現體重的歷史變化。

---

## 如何執行 (How to Run)

1.  **安裝依賴套件**:
    ```bash
    pip install eel sqlalchemy
    ```

2.  **執行應用程式**:
    ```bash
    # 進入此專案的資料夾
    cd C:\Users\Chia-Chun\kids_diet\new_web_project

    # 執行主程式
    python main.py
    ```

3.  **載入測試資料 (可選)**:
    如果您想快速載入一些測試資料，請在應用程式啟動後，開啟瀏覽器開發者工具 (通常按 F12)，切換到 `Console` (控制台) 頁籤，然後輸入以下指令並按下 Enter：
    ```javascript
    eel.populate_test_data()()
    ```
    成功執行後，重新整理頁面或切換到日曆/歷史紀錄頁面即可看到測試資料。

---

## 未來建議改善方向 (Future Improvement Suggestions)

- **成就/徽章系統**：新增如「連續登入7天」、「第一次獲得100點」等成就徽章，增加趣味性。
- **更詳細的圖表**：除了體重外，也可以圖表化每日獲得的點數，或分析最常做的運動等。
- **自訂頭像與主題**：讓小朋友可以選擇自己的頭像，或更換應用程式的顏色主題。
- **打包成執行檔**：使用 `PyInstaller` 等工具將專案打包成單一的 `.exe` 執行檔，方便在沒有 Python 環境的電腦上使用。
- **資料備份與還原**：新增匯出/匯入 `kid_weight_manager.json` 的功能，讓使用者可以手動備份資料。
